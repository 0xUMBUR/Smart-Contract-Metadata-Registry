{"address":"0x789cD7AB3742e23Ce0952F6Bc3Eb3A73A0E08833","name":"","metadata":{"compiler":{"version":"0.6.10+commit.00c0fcaf"},"language":"Solidity","output":{"abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newDisputer","type":"address"}],"name":"DisputerUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"asset","type":"address"},{"indexed":true,"internalType":"uint256","name":"expiryTimestamp","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"disputedPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"disputeTimestamp","type":"uint256"}],"name":"ExpiryPriceDisputed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"asset","type":"address"},{"indexed":true,"internalType":"uint256","name":"expiryTimestamp","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"onchainTimestamp","type":"uint256"}],"name":"ExpiryPriceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pricer","type":"address"},{"indexed":false,"internalType":"uint256","name":"disputePeriod","type":"uint256"}],"name":"PricerDisputePeriodUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pricer","type":"address"},{"indexed":false,"internalType":"uint256","name":"lockingPeriod","type":"uint256"}],"name":"PricerLockingPeriodUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"asset","type":"address"},{"indexed":true,"internalType":"address","name":"pricer","type":"address"}],"name":"PricerUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"asset","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"StablePriceUpdated","type":"event"},{"inputs":[{"internalType":"address","name":"_asset","type":"address"},{"internalType":"uint256","name":"_expiryTimestamp","type":"uint256"},{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"disputeExpiryPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"endMigration","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_asset","type":"address"},{"internalType":"uint80","name":"_roundId","type":"uint80"}],"name":"getChainlinkRoundData","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getDisputer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_asset","type":"address"},{"internalType":"uint256","name":"_expiryTimestamp","type":"uint256"}],"name":"getExpiryPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_asset","type":"address"}],"name":"getPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_asset","type":"address"}],"name":"getPricer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_pricer","type":"address"}],"name":"getPricerDisputePeriod","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_pricer","type":"address"}],"name":"getPricerLockingPeriod","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_asset","type":"address"},{"internalType":"uint256","name":"_expiryTimestamp","type":"uint256"}],"name":"isDisputePeriodOver","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_asset","type":"address"},{"internalType":"uint256","name":"_expiryTimestamp","type":"uint256"}],"name":"isLockingPeriodOver","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_asset","type":"address"},{"internalType":"uint256[]","name":"_expiries","type":"uint256[]"},{"internalType":"uint256[]","name":"_prices","type":"uint256[]"}],"name":"migrateOracle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_asset","type":"address"},{"internalType":"address","name":"_pricer","type":"address"}],"name":"setAssetPricer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_pricer","type":"address"},{"internalType":"uint256","name":"_disputePeriod","type":"uint256"}],"name":"setDisputePeriod","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_disputer","type":"address"}],"name":"setDisputer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_asset","type":"address"},{"internalType":"uint256","name":"_expiryTimestamp","type":"uint256"},{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"setExpiryPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_pricer","type":"address"},{"internalType":"uint256","name":"_lockingPeriod","type":"uint256"}],"name":"setLockingPeriod","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_asset","type":"address"},{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"setStablePrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}],"devdoc":{"author":"Opyn Team","methods":{"disputeExpiryPrice(address,uint256,uint256)":{"details":"only the disputer can dispute a price during the dispute period, by setting a new one","params":{"_asset":"asset address","_expiryTimestamp":"expiry timestamp","_price":"the correct price"}},"endMigration()":{"details":"can only be called by owner, should be called before setting Oracle module into AddressBook"},"getChainlinkRoundData(address,uint80)":{"details":"if asset is a stable asset, will return stored price and timestamp equal to now","params":{"_asset":"asset address to get it's historical price","_roundId":"chainlink round id"},"returns":{"_0":"price and round timestamp"}},"getDisputer()":{"returns":{"_0":"disputer address"}},"getExpiryPrice(address,uint256)":{"params":{"_asset":"asset address","_expiryTimestamp":"expiry timestamp"},"returns":{"_0":"price scaled by 1e8, denominated in USD","_1":"isFinalized True, if the price is finalized, False if not"}},"getPrice(address)":{"params":{"_asset":"asset address"},"returns":{"_0":"price scaled by 1e8, denominated in USD e.g. 17568900000 => 175.689 USD"}},"getPricer(address)":{"params":{"_asset":"asset address"},"returns":{"_0":"pricer address"}},"getPricerDisputePeriod(address)":{"details":"during the dispute period, the disputer can dispute the submitted price and modify it","params":{"_pricer":"pricer address"},"returns":{"_0":"dispute period"}},"getPricerLockingPeriod(address)":{"details":"during the locking period an expiry price can not be submitted to this contract","params":{"_pricer":"pricer address"},"returns":{"_0":"locking period"}},"isDisputePeriodOver(address,uint256)":{"params":{"_asset":"asset address","_expiryTimestamp":"expiry timestamp"},"returns":{"_0":"True if dispute period is over, False if not"}},"isLockingPeriodOver(address,uint256)":{"params":{"_asset":"asset address","_expiryTimestamp":"expiry timestamp"},"returns":{"_0":"True if locking period is over, False if not"}},"migrateOracle(address,uint256[],uint256[])":{"details":"this can only be called by owner, should be used at the deployment time before setting Oracle module into AddressBook","params":{"_asset":"asset address","_expiries":"array of expiries timestamps","_prices":"array of prices"}},"owner()":{"details":"Returns the address of the current owner."},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."},"setAssetPricer(address,address)":{"details":"can only be called by the owner","params":{"_asset":"asset address","_pricer":"pricer address"}},"setDisputePeriod(address,uint256)":{"details":"can only be called by the owner for a composite pricer (ie CompoundPricer) that depends on or calls other pricers, ensure that the dispute period for the composite pricer is longer than the dispute period for the asset pricer that it calls to ensure safe usage as a dispute in the other pricer will cause the need for a dispute with the composite pricer's price","params":{"_disputePeriod":"dispute period","_pricer":"pricer address"}},"setDisputer(address)":{"details":"can only be called by the owner","params":{"_disputer":"disputer address"}},"setExpiryPrice(address,uint256,uint256)":{"details":"asset price can only be set after the locking period is over and before the dispute period has started","params":{"_asset":"asset address","_expiryTimestamp":"expiry timestamp","_price":"asset price at expiry"}},"setLockingPeriod(address,uint256)":{"details":"can only be called by the owner","params":{"_lockingPeriod":"locking period","_pricer":"pricer address"}},"setStablePrice(address,uint256)":{"details":"price should be scaled by 1e8","params":{"_asset":"asset address","_price":"price"}},"transferOwnership(address)":{"details":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."}},"stateVariables":{"assetPricer":{"details":"mapping between an asset and its pricer"},"disputer":{"details":"disputer is a role defined by the owner that has the ability to dispute a price during the dispute period"},"pricerDisputePeriod":{"details":"mapping of asset pricer to its dispute period dispute period is the period of time after an expiry price has been pushed where a price can be disputed"},"pricerLockingPeriod":{"details":"mapping of asset pricer to its locking period locking period is the period of time after the expiry timestamp where a price can not be pushed"},"stablePrice":{"details":"mapping between stable asset and price"},"storedPrice":{"details":"mapping between asset, expiry timestamp, and the Price structure at the expiry timestamp"}},"title":"Oracle Module"},"userdoc":{"methods":{"disputeExpiryPrice(address,uint256,uint256)":{"notice":"dispute an asset price during the dispute period"},"endMigration()":{"notice":"end migration process"},"getChainlinkRoundData(address,uint80)":{"notice":"get historical asset price and timestamp"},"getDisputer()":{"notice":"get the disputer address"},"getExpiryPrice(address,uint256)":{"notice":"get the asset price at specific expiry timestamp"},"getPrice(address)":{"notice":"get a live asset price from the asset's pricer contract"},"getPricer(address)":{"notice":"get the pricer for an asset"},"getPricerDisputePeriod(address)":{"notice":"get a pricer's dispute period dispute period is the period of time after an expiry price has been pushed where a price can be disputed"},"getPricerLockingPeriod(address)":{"notice":"get a pricer's locking period locking period is the period of time after the expiry timestamp where a price can not be pushed"},"isDisputePeriodOver(address,uint256)":{"notice":"check if the dispute period is over"},"isLockingPeriodOver(address,uint256)":{"notice":"check if the locking period is over for setting the asset price at a particular expiry timestamp"},"migrateOracle(address,uint256[],uint256[])":{"notice":"function to mgirate asset prices from old oracle to new deployed oracle"},"setAssetPricer(address,address)":{"notice":"sets the pricer for an asset"},"setDisputePeriod(address,uint256)":{"notice":"sets the dispute period for a pricer"},"setDisputer(address)":{"notice":"set the disputer address"},"setExpiryPrice(address,uint256,uint256)":{"notice":"submits the expiry price to the oracle, can only be set from the pricer"},"setLockingPeriod(address,uint256)":{"notice":"sets the locking period for a pricer"},"setStablePrice(address,uint256)":{"notice":"set stable asset price"}},"notice":"The Oracle module sets, retrieves, and stores USD prices (USD per asset) for underlying, collateral, and strike assets manages pricers that are used for different assets"}},"settings":{"compilationTarget":{"contracts/Oracle.sol":"Oracle"},"evmVersion":"istanbul","libraries":{},"metadata":{"bytecodeHash":"ipfs"},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"contracts/Oracle.sol":{"keccak256":"0x5a8506235f63461768eb6e5f325146b89700711dc3a5c33b4a9c52cf94b20f02","license":"UNLICENSED","urls":["bzz-raw://52dd70e92a71041521b3016370cccdad0f5985bc2b633afe47370c38bd3a6597","dweb:/ipfs/QmauvtoWhqPouT7ALvFVATu3uZf8JrtveRQ5Wvhgx12ctP"]}},"version":1},"version":1,"checkPoints":[]}