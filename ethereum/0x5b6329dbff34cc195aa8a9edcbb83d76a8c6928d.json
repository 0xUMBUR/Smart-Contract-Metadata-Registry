{"address":"0x5b6329DbFf34Cc195aa8a9edcbb83d76A8C6928d","name":"","metadata":{"compiler":{"version":"0.6.10+commit.00c0fcaf"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"contract IController","name":"_controller","type":"address"},{"internalType":"contract IWETH","name":"_weth","type":"address"},{"internalType":"address","name":"_uniswapRouter","type":"address"},{"internalType":"address","name":"_sushiswapRouter","type":"address"},{"internalType":"address","name":"_balancerProxy","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bool","name":"_status","type":"bool"}],"name":"AnyoneTradeUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_component","type":"address"},{"indexed":false,"internalType":"uint256","name":"_newExchange","type":"uint256"}],"name":"AssetExchangeUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_component","type":"address"},{"indexed":false,"internalType":"uint256","name":"_newCoolOffPeriod","type":"uint256"}],"name":"CoolOffPeriodUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_component","type":"address"},{"indexed":false,"internalType":"uint256","name":"_newUnit","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_positionMultiplier","type":"uint256"}],"name":"TargetUnitsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_executor","type":"address"},{"indexed":true,"internalType":"address","name":"_sellComponent","type":"address"},{"indexed":true,"internalType":"address","name":"_buyComponent","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amountSold","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_amountBought","type":"uint256"}],"name":"TradeExecuted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_component","type":"address"},{"indexed":false,"internalType":"uint256","name":"_newMaximum","type":"uint256"}],"name":"TradeMaximumUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_trader","type":"address"},{"indexed":false,"internalType":"bool","name":"_status","type":"bool"}],"name":"TraderStatusUpdated","type":"event"},{"inputs":[],"name":"anyoneTrade","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"assetInfo","outputs":[{"internalType":"uint256","name":"targetUnit","type":"uint256"},{"internalType":"uint256","name":"maxSize","type":"uint256"},{"internalType":"uint256","name":"coolOffPeriod","type":"uint256"},{"internalType":"uint256","name":"lastTradeTimestamp","type":"uint256"},{"internalType":"uint256","name":"exchange","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"balancerProxy","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"controller","outputs":[{"internalType":"contract IController","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRebalanceComponents","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"_components","type":"address[]"}],"name":"getTargetUnits","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"index","outputs":[{"internalType":"contract ICKToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract ICKToken","name":"_index","type":"address"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"positionMultiplier","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"raiseAssetTargets","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"rebalanceComponents","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"removeModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_components","type":"address[]"},{"internalType":"uint256[]","name":"_coolOffPeriods","type":"uint256[]"}],"name":"setCoolOffPeriods","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_components","type":"address[]"},{"internalType":"uint256[]","name":"_exchanges","type":"uint256[]"}],"name":"setExchanges","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_components","type":"address[]"},{"internalType":"uint256[]","name":"_tradeMaximums","type":"uint256[]"}],"name":"setTradeMaximums","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_newComponents","type":"address[]"},{"internalType":"uint256[]","name":"_newComponentsTargetUnits","type":"uint256[]"},{"internalType":"uint256[]","name":"_oldComponentsTargetUnits","type":"uint256[]"},{"internalType":"uint256","name":"_positionMultiplier","type":"uint256"}],"name":"startRebalance","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sushiswapRouter","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_component","type":"address"}],"name":"trade","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"tradeAllowList","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_component","type":"address"}],"name":"tradeRemainingWETH","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"uniswapRouter","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"_status","type":"bool"}],"name":"updateAnyoneTrade","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_traders","type":"address[]"},{"internalType":"bool[]","name":"_statuses","type":"bool[]"}],"name":"updateTraderStatus","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"weth","outputs":[{"internalType":"contract IWETH","name":"","type":"address"}],"stateMutability":"view","type":"function"}],"devdoc":{"author":"Cook Finance Smart contract that facilitates rebalances for indices. Manager can set target unit amounts, max trade sizes, the exchange to trade on, and the cool down period between trades (on a per asset basis). As currently constructed the module only works for one CK at a time. SECURITY ASSUMPTION:  - Works with following modules: StreamingFeeModule, BasicIssuanceModule (any other module additions to CKs using this module need to be examined separately)","methods":{"getTargetUnits(address[])":{"params":{"_components":"Array of components to get target units for"},"returns":{"_0":"Array of targetUnits mapping to passed components"}},"initialize(address)":{"params":{"_index":"Address of index being used for this CK"}},"setCoolOffPeriods(address[],uint256[])":{"params":{"_components":"Array of components","_coolOffPeriods":"Array of cool off periods to correct component"}},"setExchanges(address[],uint256[])":{"params":{"_components":"Array of components","_exchanges":"Array of exchanges mapping to correct component, uint256 used to signify exchange"}},"setTradeMaximums(address[],uint256[])":{"params":{"_components":"Array of components","_tradeMaximums":"Array of trade maximums mapping to correct component"}},"startRebalance(address[],uint256[],uint256[],uint256)":{"params":{"_newComponents":"Array of new components to add to allocation","_newComponentsTargetUnits":"Array of target units at end of rebalance for new components, maps to same index of component","_oldComponentsTargetUnits":"Array of target units at end of rebalance for old component, maps to same index of component,                                               if component being removed set to 0.","_positionMultiplier":"Position multiplier when target units were calculated, needed in order to adjust target units                                               if fees accrued"}},"trade(address)":{"params":{"_component":"Component to trade"}},"tradeRemainingWETH(address)":{"params":{"_component":"Component to trade"}},"updateAnyoneTrade(bool)":{"params":{"_status":"Boolean indicating if anyone can trade"}},"updateTraderStatus(address[],bool[])":{"params":{"_statuses":"Booleans indicating if matching trader can trade","_traders":"Array trader addresses to toggle status"}}},"title":"SingleIndexModule"},"userdoc":{"methods":{"getTargetUnits(address[])":{"notice":"Get target units for passed components, normalized to current positionMultiplier."},"initialize(address)":{"notice":"MANAGER ONLY: Set target units to current units and last trade to zero. Initialize module."},"raiseAssetTargets()":{"notice":"ACCESS LIMITED: For situation where all target units met and remaining WETH, uniformly raise targets by same percentage in order to allow further trading. Can be called multiple times if necessary, increase should be small in order to reduce tracking error."},"setCoolOffPeriods(address[],uint256[])":{"notice":"MANAGER ONLY: Set exchange for passed components"},"setExchanges(address[],uint256[])":{"notice":"MANAGER ONLY: Set exchange for passed components"},"setTradeMaximums(address[],uint256[])":{"notice":"MANAGER ONLY: Set trade maximums for passed components"},"startRebalance(address[],uint256[],uint256[],uint256)":{"notice":"MANAGER ONLY: Set new target units, zeroing out any units for components being removed from index. Log position multiplier to adjust target units in case fees are accrued. Validate that weth is not a part of the new allocation and that all components in current allocation are in _components array."},"trade(address)":{"notice":"ACCESS LIMITED: Only approved addresses can call if anyoneTrade is false. Determines trade size and direction and swaps into or out of WETH on exchange specified by manager."},"tradeRemainingWETH(address)":{"notice":"ACCESS LIMITED: Only approved addresses can call if anyoneTrade is false. Only callable when 1) there are no more components to be sold and, 2) entire remaining WETH amount can be traded such that resulting inflows won't exceed components maxTradeSize nor overshoot the target unit. To be used near the end of rebalances when a component's calculated trade size is greater in value than remaining WETH."},"updateAnyoneTrade(bool)":{"notice":"MANAGER ONLY: Toggle whether anyone can trade, bypassing the traderAllowList"},"updateTraderStatus(address[],bool[])":{"notice":"MANAGER ONLY: Toggle ability for passed addresses to trade from current state "}}}},"settings":{"compilationTarget":{"Controller.sol":"SingleIndexModule"},"evmVersion":"istanbul","libraries":{},"metadata":{"bytecodeHash":"ipfs"},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"Controller.sol":{"keccak256":"0x44d11d4ff00044ec19d84df2335849d21bd583e98c4fe3376632e4bab64421b6","license":"MIT","urls":["bzz-raw://9b71a251260f00993697a19a24b2c39c905749ad4bb85558847bbf7f0314848a","dweb:/ipfs/QmSwLyE81oqyMddbg7quqtbrSWvBToWJ2aL7L42qz5vhmq"]}},"version":1},"version":1,"checkPoints":[]}