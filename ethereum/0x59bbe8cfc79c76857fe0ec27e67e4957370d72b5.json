{"address":"0x59bbE8CFC79c76857fE0eC27e67E4957370d72B5","name":"","metadata":{"compiler":{"version":"0.6.6+commit.6c089d02"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_link","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"user","type":"address"}],"name":"AddedAccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"id","type":"bytes32"}],"name":"ChainlinkCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"id","type":"bytes32"}],"name":"ChainlinkFulfilled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"id","type":"bytes32"}],"name":"ChainlinkRequested","type":"event"},{"anonymous":false,"inputs":[],"name":"CheckAccessDisabled","type":"event"},{"anonymous":false,"inputs":[],"name":"CheckAccessEnabled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"saId","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minresponses","type":"uint256"}],"name":"NewServiceAgreement","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"OwnershipTransferRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"user","type":"address"}],"name":"RemovedAccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"saId","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"requestId","type":"bytes32"},{"indexed":false,"internalType":"int256","name":"answer","type":"int256"}],"name":"ServiceAgreementAnswerUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"saId","type":"bytes32"}],"name":"ServiceAgreementDeleted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"saId","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"requestId","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ServiceAgreementRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"saId","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"requestId","type":"bytes32"},{"indexed":true,"internalType":"address","name":"oracle","type":"address"},{"indexed":false,"internalType":"int256","name":"answer","type":"int256"}],"name":"ServiceAgreementResponseReceived","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"addAccess","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_requestId","type":"bytes32"},{"internalType":"uint256","name":"_payment","type":"uint256"},{"internalType":"bytes4","name":"_callbackFunctionId","type":"bytes4"},{"internalType":"uint256","name":"_expiration","type":"uint256"}],"name":"cancelOracleRequest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_requestId","type":"bytes32"},{"internalType":"int256","name":"_data","type":"int256"}],"name":"chainlinkCallback","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"checkEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minResponses","type":"uint256"},{"internalType":"address[]","name":"_oracles","type":"address[]"},{"internalType":"bytes32[]","name":"_jobIds","type":"bytes32[]"},{"internalType":"uint256[]","name":"_payments","type":"uint256[]"}],"name":"createServiceAgreement","outputs":[{"internalType":"bytes32","name":"saId","type":"bytes32"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"disableAccessCheck","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"enableAccessCheck","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getChainlinkToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_saId","type":"bytes32"}],"name":"getServiceAgreement","outputs":[{"internalType":"uint256","name":"totalPayment","type":"uint256"},{"internalType":"uint256","name":"minResponses","type":"uint256"},{"internalType":"address[]","name":"oracles","type":"address[]"},{"internalType":"bytes32[]","name":"jobIds","type":"bytes32[]"},{"internalType":"uint256[]","name":"payments","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"hasAccess","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_sender","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"onTokenTransfer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_sender","type":"address"},{"internalType":"uint256","name":"_payment","type":"uint256"},{"internalType":"bytes32","name":"_saId","type":"bytes32"},{"internalType":"address","name":"_callbackAddress","type":"address"},{"internalType":"bytes4","name":"_callbackFunctionId","type":"bytes4"},{"internalType":"uint256","name":"_nonce","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"oracleRequest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"removeAccess","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawLink","outputs":[],"stateMutability":"nonpayable","type":"function"}],"devdoc":{"details":"This contract accepts requests as service agreement IDs and loops over the corresponding list of oracles to create distinct requests to each one.","methods":{"acceptOwnership()":{"details":"Allows an ownership transfer to be completed by the recipient."},"addAccess(address)":{"params":{"_user":"The address to add"}},"cancelOracleRequest(bytes32,uint256,bytes4,uint256)":{"params":{"_callbackFunctionId":"The bytes4 callback function ID specified for the request to cancel","_expiration":"The expiration generated for the request to cancel","_payment":"The payment specified for the request to cancel","_requestId":"The ID that was generated for the request to cancel"}},"chainlinkCallback(bytes32,int256)":{"details":"The recordChainlinkFulfillment protects this function from being called by anyone other than the oracle address that the request was sent to","params":{"_data":"The answer provided by the oracle","_requestId":"The ID that was generated for the request"}},"constructor":{"details":"Sets the storage for the specified addresses","params":{"_link":"The address of the LINK token contract"}},"createServiceAgreement(uint256,address[],bytes32[],uint256[])":{"details":"The globalNonce keeps service agreement IDs unique. Assume one cannot create the max uint256 number of service agreements in the same block.","params":{"_jobIds":"The corresponding list of Job IDs.","_minResponses":"The minimum number of responses before the requesting contract is called with the response data.","_oracles":"The list of oracle contract addresses.","_payments":"The corresponding list of payment amounts."}},"getChainlinkToken()":{"details":"This is the public implementation for chainlinkTokenAddress, which is an internal method of the ChainlinkClient contract"},"getServiceAgreement(bytes32)":{"details":"This function is used instead of the public mapping to return the values of the arrays: oracles, jobIds, and payments."},"hasAccess(address,bytes)":{"params":{"_user":"The address to query"}},"onTokenTransfer(address,uint256,bytes)":{"details":"The data payload's first 2 words will be overwritten by the `_sender` and `_amount` values to ensure correctness. Calls oracleRequest.","params":{"_amount":"Amount of LINK sent (specified in wei)","_data":"Payload of the transaction","_sender":"Address of the sender"}},"oracleRequest(address,uint256,bytes32,address,bytes4,uint256,uint256,bytes)":{"details":"Stores the hash of the params as the on-chain commitment for the request. Emits OracleRequest event for the Chainlink node to detect.","params":{"_callbackAddress":"The callback address for the response","_callbackFunctionId":"The callback function ID for the response","_data":"The CBOR payload of the request","_nonce":"The nonce sent by the requester","_payment":"The amount of payment given (specified in wei)","_saId":"The Job Specification ID","_sender":"The sender of the request"}},"removeAccess(address)":{"params":{"_user":"The address to remove"}},"transferOwnership(address)":{"details":"Allows an owner to begin transferring ownership to a new address, pending."},"withdrawLink()":{"details":"The only valid case for there to be remaining LINK on this contract is if a user accidentally sent LINK directly to this contract's address."}},"title":"PreCoordinator is a contract that builds on-chain service agreements using the current architecture of 1 request to 1 oracle contract."},"userdoc":{"methods":{"addAccess(address)":{"notice":"Adds an address to the access list"},"cancelOracleRequest(bytes32,uint256,bytes4,uint256)":{"notice":"Call this method if no response is received within 5 minutes"},"chainlinkCallback(bytes32,int256)":{"notice":"The fulfill method from requests created by this contract"},"constructor":"Deploy the contract with a specified address for the LINK and Oracle contract addresses","createServiceAgreement(uint256,address[],bytes32[],uint256[])":{"notice":"Allows the owner of the contract to create new service agreements with multiple oracles. Each oracle will have their own Job ID and can have their own payment amount."},"disableAccessCheck()":{"notice":"makes the access check unenforced"},"enableAccessCheck()":{"notice":"makes the access check enforced"},"getChainlinkToken()":{"notice":"Returns the address of the LINK token"},"getServiceAgreement(bytes32)":{"notice":"This is a helper function to retrieve the details of a service agreement by its given service agreement ID."},"hasAccess(address,bytes)":{"notice":"Returns the access of an address"},"onTokenTransfer(address,uint256,bytes)":{"notice":"Called when LINK is sent to the contract via `transferAndCall`"},"oracleRequest(address,uint256,bytes32,address,bytes4,uint256,uint256,bytes)":{"notice":"Creates the Chainlink request"},"removeAccess(address)":{"notice":"Removes an address from the access list"},"withdrawLink()":{"notice":"Allows the owner to withdraw any LINK balance on the contract"}}}},"settings":{"compilationTarget":{"browser/PreCoordinator.sol":"PreCoordinator"},"evmVersion":"istanbul","libraries":{},"metadata":{"bytecodeHash":"ipfs"},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"browser/PreCoordinator.sol":{"keccak256":"0xeffbafe9959788ec71f1605f5742060e2d99c834785bd24c5933a3a1958cf192","urls":["bzz-raw://1e9beef9fa11331a21c0edfd3963ccbe4e298c71089f0e66ee1d2e60e8a1af97","dweb:/ipfs/QmeX1xne56XijyJMyS4pKsGdYHsNhGvydBwFqdCA1tggkr"]}},"version":1},"version":1,"checkPoints":[]}